# DownloadLib
#### Браузерное расширение для загрузки манги | v0.9

**DownloadLib** — это расширение для браузера, позволяющее скачивать мангу с порталов [*MangaLib*](https://mangalib.me/) и [*RanobeLib*](https://ranobelib.me/) в форматах *FB2*, *EPUB* и *PDF*. Поддерживает автоматическую обработку изображений и текста, а также гибкие настройки скорости загрузки. 

![MangaLib interface](/screenshots/MangaLib_example.png)
![RanobeLib interface](/screenshots/RanobeLib_example.png)

---

## Возможности

- **Скачивание манги с MangaLib и RanobeLib**
  - Автоматическое определение сервиса по открытому сайту.
- **Выбор формата файла**
  - FB2 (FictionBook 2.0)
  - EPUB (электронная книга)
  - PDF (страницы с текстом и изображениями)
- **Загрузка обложки и метаданных**
  - Название, авторы, описание, дата выхода, жанры и др.
- **Гибкая настройка лимита запросов**
  - Можно задать количество запросов в минуту для культурного обращения к API.
- **Фоновая загрузка**
  - Возможность перевести скачивание в фоновый режим.
- **Пауза и остановка загрузки**
  - Управление процессом скачивания: пауза, продолжение, завершение.
- **Интерфейс popup**
  - Просмотр информации о тайтле, количестве глав, авторах, рейтинге и обложке.
- **Обновление книг**
  - Дополнение скачанной работы недостающими главами.
- **Автоматическое кадрирование**
  - Разбиение длинных изображений манги на несколько страниц для удобного чтения с электронных книг.

---

## Установка

### Готовые сборки
1. Откройте раздел [Релизы](https://github.com/ivanvit100/DownloadLib/releases) проекта.
2. Скачайте .xpi (для Firefox) файл последней версии.
3. Запустите расширение двойным кликом и дейтсвуйте согласно инструкциям в браузере.

### Самостоятельная установка
Для установки временного расширения (для разработки или тестирования) выполните следующую последовательность шагов:
1. Клонируйте репозиторий:
    ```sh
    git clone https://github.com/ivanvit100/DownloadLib
    ```
2. Откройте страницу `about:debugging` в вашем браузере Firefox.
3. Во вкладке "Этот Firefox" выберите пункт "Загрузить временное дополнение".
4. Выберите загруженный ранее файл [`manifest.json`](/manifest.json).

---

## Использование

1. Откройте страницу манги на MangaLib или RanobeLib.
2. Кликните по иконке расширения.
3. Выберите нужный формат (FB2, EPUB, PDF).
4. Установите лимит запросов (по умолчанию 100/мин).
5. Нажмите **Скачать книгу**.

---

## Технические детали

- Расширение подписано и протестировано в Firefox 146.0-1.
- Возможность работы в Chrome будет протестирована и улучшена в будущих релизах.
- Все скачанные файлы имеют корректные имена и метаданные.
- Для PDF используется html2pdf, для EPUB — JSZip.
- Основная логика загрузчиков реализована в [`lib_parser.js`](lib/lib_parser.js).
- Логика обработки API для каждого конкретного сервиса находится в остальных файлах директории [`lib`](/lib/).

---

## Обратная связь

- [GitHub](https://github.com/ivanvit100/DownloadLib/) проекта
- Автор: [ivanvit.ru](https://ivanvit.ru)

---

**DownloadLib — ваш удобный способ сохранить любимую мангу!**